<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Label possible SWR events</title>
  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <!-- Attributes with the prefix "v-" are
       parsed by the JavaScript UI framework "Vue".
       See: https://vuejs.org
  -->
  <div id="label-app" class="container">

    <div class="row mb-3 mt-3">

      <div class="col-md-6">

        <div class="card mb-3">
          <h5 class="card-header">Unlabelled events</h5>
          <div id="unlabelled-events"
               class="vignette-list">
            <div class="vignette-container">
              <img v-for="event in events.unlabelled"
                   v-bind:src="imageSrc(event)">
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body row">
            <div id="active-event"
                 class="col-sm-auto">
              <div class="vignette-container">
                <span id="voltage"></span>
                <img v-if="events.activeEvent != null"
                     v-bind:src="imageSrc(events.activeEvent)">
                <span id="time"></span>
              </div>
            </div>
            <div class="col-sm d-flex">
              <div class="mt-auto">
                <button v-on:click="labelActiveEvent('not_SWR')"
                        class="btn btn-outline-dark mt-1">
                  (<) Label Not SWR
                </button>
                <button v-on:click="labelActiveEvent('SWR')"
                        class="btn btn-outline-dark mt-1">
                  Label SWR (>)
                </button>
                <div class="text-muted">
                  Last save: {{ last_save_pretty }}
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="col-md-6">

        <div id="context"
             class="card">
          <img v-if="events.activeEvent != null"
               v-bind:src="imageSrcContext(events.activeEvent)">
        </div>

      </div>


    </div>

    <div class="row">

      <div class="col-md-6 mb-3">
        <div class="card">
        <h5 class="card-header">Probably not an SWR event</h5 >
          <div id="labelled-not-SWR"
               class="vignette-list">
            <div class="vignette-container">
              <img v-for="event in events.not_SWR"
                  v-bind:src="imageSrc(event)"
                  v-on:click="unlabel(event, 'not_SWR')"
                  class="clickable"
                  title="Send back to queue">
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card">
          <h5 class="card-header">Probably an SWR event</h5>
          <div id="labelled-SWR"
               class="vignette-list">
            <div class="vignette-container">
              <img v-for="event in events.SWR"
                  v-bind:src="imageSrc(event)"
                  v-on:click="unlabel(event, 'SWR')"
                  class="clickable"
                  title="Send back to queue">
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>

  <script src="lib/jquery-3.3.1.min.js"></script>
  <script src="lib/moment.js"></script>
  <script src="lib/lodash.js"></script>
  <script src="lib/vue.js"></script>
  <script src="app.js"></script>
</body>
</html>
